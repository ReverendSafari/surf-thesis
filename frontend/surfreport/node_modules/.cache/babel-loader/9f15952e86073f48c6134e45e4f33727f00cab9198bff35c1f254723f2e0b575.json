{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"w-full max-w-3xl mx-auto\"\n};\nconst _hoisted_2 = {\n  class: \"flex justify-between\"\n};\nconst _hoisted_3 = {\n  class: \"flex flex-col w-1/2 pr-6\"\n};\nconst _hoisted_4 = {\n  class: \"text-2xl font-bold whitespace-nowrap\"\n};\nconst _hoisted_5 = {\n  class: \"text-lg font-medium\"\n};\nconst _hoisted_6 = {\n  class: \"flex flex-col w-1/2 pl-6\"\n};\nconst _hoisted_7 = {\n  class: \"flex items-center\"\n};\nconst _hoisted_8 = {\n  key: 1\n};\nconst _hoisted_9 = {\n  key: 2,\n  class: \"text-lg font-bold ml-2 whitespace-nowrap\"\n};\nconst _hoisted_10 = {\n  class: \"mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_GradeDisplay = _resolveComponent(\"GradeDisplay\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" Title centered at the top \"), _cache[3] || (_cache[3] = _createElementVNode(\"h3\", {\n    class: \"text-center text-lg font-semibold mb-6\"\n  }, \"Current Wave\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Left Column: Wave Height and Period \"), _createElementVNode(\"div\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"p\", {\n    class: \"text-gray-600\"\n  }, \"Wave Height\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($options.waveHeightRange) + \" (\" + _toDisplayString($data.closestWave ? $data.closestWave.height : 'N/A') + \" ft) \", 1 /* TEXT */), _cache[1] || (_cache[1] = _createElementVNode(\"p\", {\n    class: \"text-gray-600 mt-4\"\n  }, \"Wave Period\", -1 /* HOISTED */)), _createElementVNode(\"p\", _hoisted_5, _toDisplayString($data.closestWave ? $data.closestWave.period : 'N/A') + \" seconds\", 1 /* TEXT */)]), _createCommentVNode(\" Right Column: Wave Direction and Quality Grade \"), _createElementVNode(\"div\", _hoisted_6, [_cache[2] || (_cache[2] = _createElementVNode(\"p\", {\n    class: \"text-gray-600\"\n  }, \"Wave Direction\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [$data.closestWave ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    style: _normalizeStyle({\n      transform: 'rotate(' + $data.closestWave.direction + 'deg)'\n    }),\n    class: \"inline-block\"\n  }, \"→\", 4 /* STYLE */)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"N/A\")), $data.closestWave ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, \" (\" + _toDisplayString($options.waveDirectionCardinal) + \" - \" + _toDisplayString($data.closestWave.direction) + \"°) \", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_10, [$data.waveGrade ? (_openBlock(), _createBlock(_component_GradeDisplay, {\n    key: 0,\n    grade: $data.waveGrade\n  }, null, 8 /* PROPS */, [\"grade\"])) : _createCommentVNode(\"v-if\", true)])])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$options","waveHeightRange","$data","closestWave","height","_hoisted_5","period","_hoisted_6","_hoisted_7","style","_normalizeStyle","transform","direction","_hoisted_8","_hoisted_9","waveDirectionCardinal","_hoisted_10","waveGrade","_createBlock","_component_GradeDisplay","grade"],"sources":["/home/safari/thesis/frontend/surfreport/src/components/CurrentWaveComponent.vue"],"sourcesContent":["<template>\n  <div class=\"w-full max-w-3xl mx-auto\">\n    <!-- Title centered at the top -->\n    <h3 class=\"text-center text-lg font-semibold mb-6\">Current Wave</h3>\n\n    <div class=\"flex justify-between\">\n      <!-- Left Column: Wave Height and Period -->\n      <div class=\"flex flex-col w-1/2 pr-6\">\n        <p class=\"text-gray-600\">Wave Height</p>\n        <p class=\"text-2xl font-bold whitespace-nowrap\">\n          {{ waveHeightRange }} ({{ closestWave ? closestWave.height : 'N/A' }} ft)\n        </p>\n\n        <p class=\"text-gray-600 mt-4\">Wave Period</p>\n        <p class=\"text-lg font-medium\">{{ closestWave ? closestWave.period : 'N/A' }} seconds</p>\n      </div>\n\n      <!-- Right Column: Wave Direction and Quality Grade -->\n      <div class=\"flex flex-col w-1/2 pl-6\">\n        <p class=\"text-gray-600\">Wave Direction</p>\n        <div class=\"flex items-center\">\n          <span v-if=\"closestWave\" :style=\"{ transform: 'rotate(' + closestWave.direction + 'deg)' }\" class=\"inline-block\">→</span>\n          <span v-else>N/A</span>\n          <span v-if=\"closestWave\" class=\"text-lg font-bold ml-2 whitespace-nowrap\">\n            ({{ waveDirectionCardinal }} - {{ closestWave.direction }}°)\n          </span>\n        </div>\n\n        <div class=\"mt-4\">\n          <GradeDisplay v-if=\"waveGrade\" :grade=\"waveGrade\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { getWaveQuality } from '../utils/waveGrading.js';\nimport GradeDisplay from './GradeDisplay.vue';\n\nexport default {\n  props: {\n    beach: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      waveData: [],\n      closestWave: null,\n      waveGrade: '',\n      beachAngle: 0,\n    };\n  },\n  components: {\n    GradeDisplay,\n  },\n  computed: {\n    waveHeightRange() {\n      const height = this.closestWave ? this.closestWave.height : 0;\n      if (height < 1) return 'Flat';\n      if (height < 2) return '1-2 ft';\n      if (height < 3) return '2-3 ft';\n      if (height < 4) return '3-4 ft';\n      if (height < 6) return '4-6 ft';\n      return '6+ ft';\n    },\n    waveDirectionCardinal() {\n      if (!this.closestWave) return '';\n      return this.convertDegreesToCardinal(this.closestWave.direction);\n    },\n  },\n  methods: {\n    async fetchWaves() {\n      if (this.beach && this.beach.beach_name) {\n        try {\n          const response = await axios.get(`https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/waves/${this.beach.beach_name}`);\n          const waveData = JSON.parse(response.data.waves);\n          const closestTimeIndex = this.findClosestTimeIndex(waveData.hourly.time);\n\n          this.closestWave = {\n            time: waveData.hourly.time[closestTimeIndex],\n            height: waveData.hourly.wave_height[closestTimeIndex],\n            direction: waveData.hourly.wave_direction[closestTimeIndex],\n            period: waveData.hourly.wave_period[closestTimeIndex],\n          };\n\n          const beachResponse = await axios.get('https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/beaches');\n          const beachData = beachResponse.data.beaches.find(b => b.beach_name === this.beach.beach_name);\n\n          if (beachData) {\n            this.beachAngle = beachData.beach_angle;\n          }\n\n          this.waveGrade = getWaveQuality(\n            this.closestWave.direction,\n            10, // Example wind speed, replace with actual data if available\n            this.closestWave.period,\n            this.beachAngle,\n            this.closestWave.height\n          );\n        } catch (error) {\n          console.error('Error fetching wave or beach data:', error);\n        }\n      }\n    },\n    findClosestTimeIndex(times) {\n      const currentTime = new Date();\n      const timeDifferences = times.map(time => {\n        const waveTime = new Date(time);\n        return Math.abs(waveTime - currentTime);\n      });\n      return timeDifferences.indexOf(Math.min(...timeDifferences));\n    },\n    convertDegreesToCardinal(degrees) {\n      const directions = ['N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE', 'S', 'SSW', 'SW', 'WSW', 'W', 'WNW', 'NW', 'NNW', 'N'];\n      const index = Math.round((degrees % 360) / 22.5);\n      return directions[index];\n    },\n  },\n  watch: {\n    beach: {\n      immediate: true,\n      handler() {\n        this.fetchWaves();\n      },\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700&display=swap');\n\n* {\n  font-family: 'Plus Jakarta Sans', sans-serif;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAA0B;;EAI9BA,KAAK,EAAC;AAAsB;;EAE1BA,KAAK,EAAC;AAA0B;;EAEhCA,KAAK,EAAC;AAAsC;;EAK5CA,KAAK,EAAC;AAAqB;;EAI3BA,KAAK,EAAC;AAA0B;;EAE9BA,KAAK,EAAC;AAAmB;;EApBtCC,GAAA;AAAA;;EAAAA,GAAA;EAuBmCD,KAAK,EAAC;;;EAK5BA,KAAK,EAAC;AAAM;;;uBA3BvBE,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BJC,mBAAA,+BAAkC,E,0BAClCC,mBAAA,CAAoE;IAAhEL,KAAK,EAAC;EAAwC,GAAC,cAAY,sBAE/DK,mBAAA,CA2BM,OA3BNC,UA2BM,GA1BJF,mBAAA,yCAA4C,EAC5CC,mBAAA,CAQM,OARNE,UAQM,G,0BAPJF,mBAAA,CAAwC;IAArCL,KAAK,EAAC;EAAe,GAAC,aAAW,sBACpCK,mBAAA,CAEI,KAFJG,UAEI,EAAAC,gBAAA,CADCC,QAAA,CAAAC,eAAe,IAAG,IAAE,GAAAF,gBAAA,CAAGG,KAAA,CAAAC,WAAW,GAAGD,KAAA,CAAAC,WAAW,CAACC,MAAM,YAAW,OACvE,iB,0BAEAT,mBAAA,CAA6C;IAA1CL,KAAK,EAAC;EAAoB,GAAC,aAAW,sBACzCK,mBAAA,CAAyF,KAAzFU,UAAyF,EAAAN,gBAAA,CAAvDG,KAAA,CAAAC,WAAW,GAAGD,KAAA,CAAAC,WAAW,CAACG,MAAM,YAAW,UAAQ,gB,GAGvFZ,mBAAA,oDAAuD,EACvDC,mBAAA,CAaM,OAbNY,UAaM,G,0BAZJZ,mBAAA,CAA2C;IAAxCL,KAAK,EAAC;EAAe,GAAC,gBAAc,sBACvCK,mBAAA,CAMM,OANNa,UAMM,GALQN,KAAA,CAAAC,WAAW,I,cAAvBX,mBAAA,CAAyH;IArBnID,GAAA;IAqBoCkB,KAAK,EArBzCC,eAAA;MAAAC,SAAA,cAqBoET,KAAA,CAAAC,WAAW,CAACS,SAAS;IAAA;IAAatB,KAAK,EAAC;KAAe,GAAC,qB,cAClHE,mBAAA,CAAuB,QAtBjCqB,UAAA,EAsBuB,KAAG,IACJX,KAAA,CAAAC,WAAW,I,cAAvBX,mBAAA,CAEO,QAFPsB,UAEO,EAFmE,IACvE,GAAAf,gBAAA,CAAGC,QAAA,CAAAe,qBAAqB,IAAG,KAAG,GAAAhB,gBAAA,CAAGG,KAAA,CAAAC,WAAW,CAACS,SAAS,IAAG,KAC5D,mBAzBVlB,mBAAA,e,GA4BQC,mBAAA,CAEM,OAFNqB,WAEM,GADgBd,KAAA,CAAAe,SAAS,I,cAA7BC,YAAA,CAAoDC,uBAAA;IA7B9D5B,GAAA;IA6B0C6B,KAAK,EAAElB,KAAA,CAAAe;wCA7BjDvB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}