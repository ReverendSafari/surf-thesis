{"ast":null,"code":"import axios from 'axios';\nimport { getWaveQuality } from '../utils/waveGrading.js';\nimport VueApexCharts from 'vue3-apexcharts';\nexport default {\n  components: {\n    ApexChart: VueApexCharts\n  },\n  props: {\n    beach: String,\n    beachAngle: Number\n  },\n  data() {\n    return {\n      waveData: [],\n      windData: [],\n      chartSeries: [],\n      chartOptions: {},\n      hoveredWave: null\n    };\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const waveResponse = await axios.get(`https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/waves/${this.beach}`);\n        const windResponse = await axios.get(`https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/wind/${this.beach}`);\n        const waveData = JSON.parse(waveResponse.data.waves);\n        const windData = JSON.parse(windResponse.data.wind);\n        this.waveData = waveData.hourly;\n        this.windData = windData.hourly;\n        this.setupChart();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    },\n    setupChart() {\n      const waveHeights = this.waveData.wave_height;\n      const labels = this.waveData.time.map(time => {\n        const date = new Date(time);\n        return date.toLocaleTimeString('en-US', {\n          hour: '2-digit',\n          minute: '2-digit'\n        });\n      });\n      const colors = waveHeights.map((height, index) => {\n        const windSpeed = this.windData.wind_speed_10m[index];\n        const windDirection = this.windData.wind_direction_10m[index];\n        const wavePeriod = this.waveData.wave_period[index];\n        const beachAngle = this.beachAngle || 120;\n        const waveGrade = getWaveQuality(windDirection, windSpeed, wavePeriod, beachAngle, height);\n        return waveGrade === 'green' ? '#2ecc71' : waveGrade === 'yellow' ? '#f1c40f' : '#e74c3c';\n      });\n      this.chartSeries = [{\n        name: 'Wave Height (ft)',\n        data: waveHeights\n      }];\n      this.chartOptions = {\n        chart: {\n          type: 'bar',\n          events: {\n            dataPointMouseEnter: (event, chartContext, {\n              dataPointIndex\n            }) => {\n              this.hoveredWave = {\n                height: this.waveData.wave_height[dataPointIndex],\n                period: this.waveData.wave_period[dataPointIndex],\n                wind_speed: this.windData.wind_speed_10m[dataPointIndex],\n                wind_direction: this.windData.wind_direction_10m[dataPointIndex]\n              };\n            }\n          }\n        },\n        plotOptions: {\n          bar: {\n            borderRadius: 4,\n            distributed: true\n          }\n        },\n        xaxis: {\n          categories: labels,\n          tickPlacement: 'on'\n        },\n        colors: colors,\n        tooltip: {\n          custom: ({\n            series,\n            seriesIndex,\n            dataPointIndex\n          }) => {\n            const waveHeight = this.waveData.wave_height[dataPointIndex];\n            const wavePeriod = this.waveData.wave_period[dataPointIndex];\n            const windSpeed = this.windData.wind_speed_10m[dataPointIndex];\n            const windDirection = this.windData.wind_direction_10m[dataPointIndex];\n            return `<div style=\"padding:8px;\">\n              <strong>Height:</strong> ${waveHeight} ft<br>\n              <strong>Period:</strong> ${wavePeriod} s<br>\n              <strong>Wind Speed:</strong> ${windSpeed} kn<br>\n              <strong>Wind Direction:</strong> ${windDirection}°\n            </div>`;\n          }\n        }\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","getWaveQuality","VueApexCharts","components","ApexChart","props","beach","String","beachAngle","Number","data","waveData","windData","chartSeries","chartOptions","hoveredWave","mounted","fetchData","methods","waveResponse","get","windResponse","JSON","parse","waves","wind","hourly","setupChart","error","console","waveHeights","wave_height","labels","time","map","date","Date","toLocaleTimeString","hour","minute","colors","height","index","windSpeed","wind_speed_10m","windDirection","wind_direction_10m","wavePeriod","wave_period","waveGrade","name","chart","type","events","dataPointMouseEnter","event","chartContext","dataPointIndex","period","wind_speed","wind_direction","plotOptions","bar","borderRadius","distributed","xaxis","categories","tickPlacement","tooltip","custom","series","seriesIndex","waveHeight"],"sources":["/home/safari/thesis/frontend/surfreport/src/components/WeeklyWaveComponent.vue"],"sourcesContent":["<template>\n  <div class=\"p-6\" style=\"height:500px\">\n    <ApexChart\n      type=\"bar\"\n      :options=\"chartOptions\"\n      :series=\"chartSeries\"\n      height=\"400\"\n    />\n\n    <!-- Detailed Wave Summary on Hover (Optional) -->\n    <div v-if=\"hoveredWave\" class=\"hover-details\">\n      <p><strong>Wave Height:</strong> {{ hoveredWave.height }} ft</p>\n      <p><strong>Wave Period:</strong> {{ hoveredWave.period }} seconds</p>\n      <p><strong>Wind Speed:</strong> {{ hoveredWave.wind_speed }} kn</p>\n      <p><strong>Wind Direction:</strong> {{ hoveredWave.wind_direction }}°</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport { getWaveQuality } from '../utils/waveGrading.js';\nimport VueApexCharts from 'vue3-apexcharts';\n\nexport default {\n  components: {\n    ApexChart: VueApexCharts,\n  },\n  props: {\n    beach: String,\n    beachAngle: Number,\n  },\n  data() {\n    return {\n      waveData: [],\n      windData: [],\n      chartSeries: [],\n      chartOptions: {},\n      hoveredWave: null,\n    };\n  },\n  mounted() {\n    this.fetchData();\n  },\n  methods: {\n    async fetchData() {\n      try {\n        const waveResponse = await axios.get(`https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/waves/${this.beach}`);\n        const windResponse = await axios.get(`https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/wind/${this.beach}`);\n\n        const waveData = JSON.parse(waveResponse.data.waves);\n        const windData = JSON.parse(windResponse.data.wind);\n\n        this.waveData = waveData.hourly;\n        this.windData = windData.hourly;\n\n        this.setupChart();\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    },\n    setupChart() {\n      const waveHeights = this.waveData.wave_height;\n      const labels = this.waveData.time.map((time) => {\n        const date = new Date(time);\n        return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });\n      });\n\n      const colors = waveHeights.map((height, index) => {\n        const windSpeed = this.windData.wind_speed_10m[index];\n        const windDirection = this.windData.wind_direction_10m[index];\n        const wavePeriod = this.waveData.wave_period[index];\n        const beachAngle = this.beachAngle || 120;\n\n        const waveGrade = getWaveQuality(windDirection, windSpeed, wavePeriod, beachAngle, height);\n\n        return waveGrade === 'green' ? '#2ecc71' : waveGrade === 'yellow' ? '#f1c40f' : '#e74c3c';\n      });\n\n      this.chartSeries = [\n        {\n          name: 'Wave Height (ft)',\n          data: waveHeights,\n        },\n      ];\n\n      this.chartOptions = {\n        chart: {\n          type: 'bar',\n          events: {\n            dataPointMouseEnter: (event, chartContext, { dataPointIndex }) => {\n              this.hoveredWave = {\n                height: this.waveData.wave_height[dataPointIndex],\n                period: this.waveData.wave_period[dataPointIndex],\n                wind_speed: this.windData.wind_speed_10m[dataPointIndex],\n                wind_direction: this.windData.wind_direction_10m[dataPointIndex],\n              };\n            },\n          },\n        },\n        plotOptions: {\n          bar: {\n            borderRadius: 4,\n            distributed: true,\n          },\n        },\n        xaxis: {\n          categories: labels,\n          tickPlacement: 'on',\n        },\n        colors: colors,\n        tooltip: {\n          custom: ({ series, seriesIndex, dataPointIndex }) => {\n            const waveHeight = this.waveData.wave_height[dataPointIndex];\n            const wavePeriod = this.waveData.wave_period[dataPointIndex];\n            const windSpeed = this.windData.wind_speed_10m[dataPointIndex];\n            const windDirection = this.windData.wind_direction_10m[dataPointIndex];\n            return `<div style=\"padding:8px;\">\n              <strong>Height:</strong> ${waveHeight} ft<br>\n              <strong>Period:</strong> ${wavePeriod} s<br>\n              <strong>Wind Speed:</strong> ${windSpeed} kn<br>\n              <strong>Wind Direction:</strong> ${windDirection}°\n            </div>`;\n          },\n        },\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.hover-details {\n  margin-top: 20px;\n  padding: 10px;\n  border: 1px solid #ddd;\n  background-color: #f9f9f9;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}