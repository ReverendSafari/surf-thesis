{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, normalizeClass as _normalizeClass, normalizeStyle as _normalizeStyle } from \"vue\";\nimport _imports_0 from '@/assets/search.svg';\nconst _hoisted_1 = {\n  class: \"relative z-10 flex flex-col items-center\"\n};\nconst _hoisted_2 = [\"value\"];\nconst _hoisted_3 = {\n  key: 1,\n  class: \"text-gray-700 text-sm text-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"relative w-full bg-cover bg-center flex items-center justify-center\", {\n      'h-28': $data.isMobile,\n      'h-20': !$data.isMobile\n    }]),\n    style: _normalizeStyle({\n      backgroundImage: `url(${require('@/assets/selectorBackground.jpg')})`,\n      backgroundPosition: 'center'\n    })\n  }, [_createCommentVNode(\" Overlay for dimming effect on the background image \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"absolute inset-0 bg-black opacity-30\"\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" Centered content with dropdown and integrated search icon \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"relative w-1112 max-w-md\", {\n      'mt-1': $data.isMobile\n    }])\n  }, [_createCommentVNode(\" Icon inside the select box \"), _cache[2] || (_cache[2] = _createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"Search icon\",\n    class: \"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500\"\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" Beach Dropdown \"), $data.beaches.length > 0 ? _withDirectives((_openBlock(), _createElementBlock(\"select\", {\n    key: 0,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.selectedBeach = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $options.updateBeach && $options.updateBeach(...args)),\n    class: \"bg-white text-gray-700 pl-10 pr-4 py-2 border rounded-lg shadow-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.beaches, beach => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: beach.beach_name,\n      value: beach\n    }, _toDisplayString(beach.beach_name) + \" (\" + _toDisplayString(beach.town) + \") \", 9 /* TEXT, PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */)), [[_vModelSelect, $data.selectedBeach]]) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"Loading beaches...\"))], 2 /* CLASS */)])], 6 /* CLASS, STYLE */);\n}","map":{"version":3,"names":["_imports_0","class","key","_createElementBlock","_normalizeClass","$data","isMobile","style","_normalizeStyle","backgroundImage","require","backgroundPosition","_createCommentVNode","_createElementVNode","_hoisted_1","src","alt","beaches","length","_cache","$event","selectedBeach","onChange","args","$options","updateBeach","_Fragment","_renderList","beach","beach_name","value","_toDisplayString","town","_hoisted_2","_hoisted_3"],"sources":["/home/safari/thesis/frontend/surfreport/src/components/BeachSelector.vue"],"sourcesContent":["<template>\n  <div\n    class=\"relative w-full bg-cover bg-center flex items-center justify-center\"\n    :class=\"{ 'h-28': isMobile, 'h-20': !isMobile }\"\n    :style=\"{ backgroundImage: `url(${require('@/assets/selectorBackground.jpg')})`, backgroundPosition: 'center' }\"\n  >\n    <!-- Overlay for dimming effect on the background image -->\n    <div class=\"absolute inset-0 bg-black opacity-30\"></div>\n\n    <!-- Centered content with dropdown and integrated search icon -->\n    <div class=\"relative z-10 flex flex-col items-center\">\n      <div\n        class=\"relative w-1112 max-w-md\"\n        :class=\"{ 'mt-1': isMobile }\"\n      >\n        <!-- Icon inside the select box -->\n        <img\n          src=\"@/assets/search.svg\"\n          alt=\"Search icon\"\n          class=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500\"\n        />\n\n        <!-- Beach Dropdown -->\n        <select\n          v-if=\"beaches.length > 0\"\n          v-model=\"selectedBeach\"\n          @change=\"updateBeach\"\n          class=\"bg-white text-gray-700 pl-10 pr-4 py-2 border rounded-lg shadow-md w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm\"\n        >\n          <option v-for=\"beach in beaches\" :key=\"beach.beach_name\" :value=\"beach\">\n            {{ beach.beach_name }} ({{ beach.town }})\n          </option>\n        </select>\n\n        <div v-else class=\"text-gray-700 text-sm text-center\">Loading beaches...</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      beaches: [], // Holds the fetched beach data\n      selectedBeach: null, // Now this will hold the full beach object, not just the name\n      isMobile: false, // Track whether the screen is mobile\n    };\n  },\n  methods: {\n    // Fetch beaches from the API\n    async fetchBeaches() {\n      try {\n        const response = await axios.get('https://3k7dz8sjwk.execute-api.us-east-2.amazonaws.com/TestStage/beaches');\n        this.beaches = response.data.beaches;\n\n        if (this.beaches.length > 0) {\n          const queryBeachName = this.$route.query.beach;\n\n          // Match the query parameter with the beach list, or default to the first\n          const matchedBeach = this.beaches.find(beach => beach.beach_name === queryBeachName);\n          this.selectedBeach = matchedBeach || this.beaches[0];\n\n          this.updateBeach(); // Ensure the selected beach is emitted and the URL is updated\n        }\n      } catch (error) {\n        console.error('Error fetching beaches:', error);\n      }\n    },\n\n    // Emit the entire selected beach object to the parent component\n    updateBeach() {\n      if (this.selectedBeach) {\n        this.$emit('beachSelected', this.selectedBeach); // Emit the selected beach\n        this.$router.replace({ query: { beach: this.selectedBeach.beach_name } }); // Update the URL without reloading\n      }\n    },\n\n    // Check for mobile screen size\n    updateIsMobile() {\n      this.isMobile = window.innerWidth < 768;\n    },\n  },\n  mounted() {\n    // Fetch beaches when the component is mounted\n    this.fetchBeaches();\n\n    // Check initial screen size and add resize listener\n    this.updateIsMobile();\n    window.addEventListener('resize', this.updateIsMobile);\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.updateIsMobile);\n  },\n};\n</script>\n\n<style scoped>\n/* Adjust the height for mobile screens */\n@media (max-width: 768px) {\n  .relative {\n    height: 7rem; /* Shorter height on mobile */\n  }\n\n  select {\n    padding: 0.5rem 0.75rem; /* Adjust dropdown padding */\n  }\n\n  .w-1112 {\n    margin-top: 0.25rem; /* Small top margin for dropdown */\n  }\n}\n\n/* Desktop remains unchanged */\n.bg-cover {\n  background-size: cover;\n  background-position: center bottom;\n}\n</style>\n"],"mappings":";OAiBUA,UAAyB;;EAP1BC,KAAK,EAAC;AAA0C;mBAVzD;;EAAAC,GAAA;EAkCoBD,KAAK,EAAC;;;uBAjCxBE,mBAAA,CAoCM;IAnCJF,KAAK,EAFTG,eAAA,EAEU,qEAAqE;MAAA,QACzDC,KAAA,CAAAC,QAAQ;MAAA,SAAWD,KAAA,CAAAC;IAAQ;IAC5CC,KAAK,EAJVC,eAAA;MAAAC,eAAA,SAIsCC,OAAO;MAAAC,kBAAA;IAAA;MAEzCC,mBAAA,wDAA2D,E,0BAC3DC,mBAAA,CAAwD;IAAnDZ,KAAK,EAAC;EAAsC,6BAEjDW,mBAAA,+DAAkE,EAClEC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJD,mBAAA,CAwBM;IAvBJZ,KAAK,EAZbG,eAAA,EAYc,0BAA0B;MAAA,QACdC,KAAA,CAAAC;IAAQ;MAE1BM,mBAAA,gCAAmC,E,0BACnCC,mBAAA,CAIE;IAHAE,GAAyB,EAAzBf,UAAyB;IACzBgB,GAAG,EAAC,aAAa;IACjBf,KAAK,EAAC;+BAGRW,mBAAA,oBAAuB,EAEfP,KAAA,CAAAY,OAAO,CAACC,MAAM,O,+BADtBf,mBAAA,CASS;IAhCjBD,GAAA;IAAA,uBAAAiB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAyBmBf,KAAA,CAAAgB,aAAa,GAAAD,MAAA;IACrBE,QAAM,EAAAH,MAAA,QAAAA,MAAA,UAAAI,IAAA,KAAEC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;IACpBtB,KAAK,EAAC;yBAENE,mBAAA,CAESuB,SAAA,QA/BnBC,WAAA,CA6BkCtB,KAAA,CAAAY,OAAO,EAAhBW,KAAK;yBAApBzB,mBAAA,CAES;MAFyBD,GAAG,EAAE0B,KAAK,CAACC,UAAU;MAAGC,KAAK,EAAEF;wBAC5DA,KAAK,CAACC,UAAU,IAAG,IAAE,GAAAE,gBAAA,CAAGH,KAAK,CAACI,IAAI,IAAG,IAC1C,uBA/BVC,UAAA;4FAyBmB5B,KAAA,CAAAgB,aAAa,E,mBASxBlB,mBAAA,CAA8E,OAA9E+B,UAA8E,EAAxB,oBAAkB,G","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}